{"version":3,"sources":["store/ducks/residencias/index.js","store/ducks/requestError/index.js","store/index.js","components/Mapa.js","services/api.js","store/fetchActions/index.js","components/CadastroResidencia.js","components/Home.js","index.js","assets/logo-header.svg","assets/pin.png"],"names":["getresidencias","createAction","createReducer","type","state","action","payload","requestError","configureStore","reducer","residencias","Mapa","style","this","props","mapstyle","bootstrapURLKeys","key","center","zoom","heatmapLibrary","heatmap","positions","options","radius","opacity","undefined","src","pin","alt","lat","lng","height","width","Component","defaultProps","axios","create","baseURL","proxy","getResidencias","dispatch","api","get","then","res","data","catch","error","message","alert","Geocode","setApiKey","setLanguage","setRegion","useStyles","makeStyles","defaultOutlined","color","border","default","background","float","fields","display","flexDirection","CriaCliente","useDispatch","classes","useState","errorRender","setErrorRender","request","setRequest","cep","numero","residentes","errors","setErrors","React","latitude","longitude","values","setValues","useEffect","sendRequest","handleChange","prop","event","target","value","slice","requisicao","parseInt","parseFloat","post","marginTop","noValidate","autoComplete","className","TextField","id","label","margin","placeholder","onChange","InputLabelProps","shrink","variant","onBlur","fromAddress","response","results","geometry","location","console","Button","onClick","houveErros","temperrors","length","Alert","elevation","TabPanel","children","index","other","role","hidden","aria-labelledby","Box","p","Typography","indice","theme","root","flexGrow","backgroundColor","palette","paper","tabs","borderRight","divider","marginRight","minWidth","tab","tab_overflow","overflowY","GeneratorHome","setValue","openMessage","setOpenMessage","openError","setOpenError","requestErrorMessage","useSelector","heatpos","setHeatpos","errorMessage","setErrorMessage","newheat","map","residencia","push","weight","handleCloseMessage","reason","handleCloseError","LogoIcon","AppBar","position","Tabs","newValue","aria-label","centered","Tab","Snackbar","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","createMuiTheme","primary","main","secondary","responsiveFontSizes","ReactDOM","render","store","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.03e830b2.chunk.js","sourcesContent":["import { createAction, createReducer } from '@reduxjs/toolkit';\r\n\r\nconst INITIAL_STATE = [];\r\n\r\nexport const getresidencias = createAction('GET_RESIDENCIAS');\r\n\r\nexport default createReducer(INITIAL_STATE, {\r\n    [getresidencias.type]: (state, action) => action.payload,\r\n\r\n})","import { createAction, createReducer } from '@reduxjs/toolkit';\r\n\r\nconst INITIAL_STATE = \"\";\r\n\r\nexport const requestError = createAction('REQUEST_ERROR');\r\n\r\nexport default createReducer(INITIAL_STATE, {\r\n    [requestError.type]: (state, action) => action.payload,\r\n\r\n})","import { configureStore } from '@reduxjs/toolkit';\r\nimport residencias from './ducks/residencias';\r\nimport requestError from './ducks/requestError';\r\nexport default configureStore({\r\n    reducer: {\r\n        residencias,\r\n        requestError\r\n\r\n    }\r\n});","import React, { Component } from 'react';\r\nimport GoogleMapReact from 'google-map-react';\r\n\r\nimport pin from '../assets/pin.png'\r\n\r\nclass Mapa extends Component {\r\n    static defaultProps = {\r\n        zoom: 11\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            // Important! Always set the container height explicitly\r\n            <div style={this.props.mapstyle}>\r\n                <GoogleMapReact\r\n                    bootstrapURLKeys={{ key: \"AIzaSyBRx0vzhwFusq4BnyhWbhL4VnHmPH1XgfA\" }}\r\n                    center={this.props.center}\r\n                    zoom={this.props.zoom}\r\n                    heatmapLibrary={true}\r\n                    heatmap={{ positions: this.props.heatmap, options: { radius: 20, opacity: 0.6, } }}\r\n                >\r\n\r\n                    {this.props.heatmap === undefined ? <img src={pin} alt=\"pin\" lat={this.props.center.lat} lng={this.props.center.lng} style={{ height: 18, width: 10 }} /> : <></>\r\n                    }\r\n                </GoogleMapReact>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Mapa;\r\n","import axios from 'axios';\r\nexport default axios.create({\r\n    baseURL: 'http://localhost:8080',    \r\n    proxy: true\r\n});","import api from '../../services/api';\r\nimport { requestError } from '../ducks/requestError'\r\nimport { getresidencias } from '../ducks/residencias';\r\n\r\n\r\nexport const getResidencias = () => {\r\n    return (dispatch) => {\r\n\r\n        api.get(\"/residencia\")\r\n            .then((res) => {\r\n\r\n                dispatch(getresidencias(res.data));\r\n            })\r\n            .catch((error) => {\r\n                dispatch(requestError(error.message));\r\n                alert(error);\r\n\r\n\r\n            });\r\n    }\r\n}\r\n\r\nexport const saveResidencia = (data) => {\r\n    return (dispatch) => {\r\n\r\n        api.post(\"/residencia\", data)\r\n            .then((res) => {\r\n                dispatch(requestError(200));\r\n                dispatch(getResidencias());\r\n            })\r\n            .catch((error) => {\r\n                dispatch(requestError(error.message));\r\n\r\n\r\n\r\n            });\r\n    }\r\n}\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { TextField, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Geocode from \"react-geocode\";\r\n\r\nimport Mapa from './Mapa'\r\nimport { saveResidencia } from '../store/fetchActions';\r\nimport { requestError } from '../store/ducks/requestError';\r\n\r\nGeocode.setApiKey(\"AIzaSyBRx0vzhwFusq4BnyhWbhL4VnHmPH1XgfA\");\r\nGeocode.setLanguage(\"pt\");\r\nGeocode.setRegion(\"br\");\r\nconst useStyles = makeStyles({\r\n    defaultOutlined: {\r\n        color: '#33C2C2',\r\n        border: '1px solid #33C2C2',\r\n    },\r\n    default: {\r\n        background: 'linear-gradient(45deg, #00598E 50%, #0895A6 99%)',\r\n        color: 'white',\r\n        float: 'right'\r\n    },\r\n    fields: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: 200\r\n    },\r\n\r\n});\r\nexport default function CriaCliente() {\r\n    const dispatch = useDispatch();\r\n    const classes = useStyles();\r\n    const [errorRender, setErrorRender] = useState(false);\r\n    const [request, setRequest] = useState(false);\r\n    const [errors, setErrors] = useState({\r\n        cep: false,\r\n        numero: false,\r\n        residentes: false\r\n    });\r\n\r\n    const [values, setValues] = React.useState({\r\n        cep: '',\r\n        numero: '',\r\n        residentes: '',\r\n        latitude: 0.0,\r\n        longitude: 0.0\r\n    });\r\n    useEffect(() => {\r\n        setValues(values);\r\n    }, [errors]);\r\n    //Checa se dados de latitude e longitude foram carregados antes de enviar a requisição\r\n    useEffect(() => {\r\n        if (values.latitude !== 0.0 && values.longitude !== 0.0 && request) {\r\n            sendRequest()\r\n        }\r\n\r\n    }, [request, values.latitude, values.longitude]);\r\n\r\n    const handleChange = (prop) => (event) => {\r\n        if (prop === \"cep\") {\r\n            event.target.value = event.target.value.slice(0, 8);\r\n        }\r\n        setValues({ ...values, [prop]: event.target.value });\r\n    };\r\n\r\n    const sendRequest = () => {\r\n        var requisicao = {\r\n            cep: parseInt(values.cep),\r\n            numero: parseInt(values.numero),\r\n            residentes: parseInt(values.residentes),\r\n            latitude: parseFloat(values.latitude),\r\n            longitude: parseFloat(values.longitude)\r\n        }\r\n        dispatch(saveResidencia(requisicao));\r\n        setRequest(false);\r\n        setValues({\r\n            cep: '',\r\n            numero: '',\r\n            residentes: '',\r\n            latitude: 0.0,\r\n            longitude: 0.0\r\n        })\r\n\r\n    }\r\n    const checkRequest = () => {\r\n        var houveErros = false;\r\n        var temperrors = errors;\r\n        //verifica cada campo\r\n        if (values.cep.length !== 8) {\r\n            houveErros = true;\r\n            temperrors.cep = true;\r\n            dispatch(requestError('Cep inválido!'));\r\n        } else {\r\n            temperrors.cep = false;\r\n        }\r\n        if (values.numero.length === 0) {\r\n            houveErros = true;\r\n            temperrors.numero = true;\r\n        } else {\r\n            temperrors.numero = false;\r\n        }\r\n        if (values.residentes.length === 0) {\r\n            houveErros = true;\r\n            temperrors.residentes = true;\r\n        } else {\r\n            temperrors.residentes = false;\r\n        }\r\n        setErrors(temperrors);\r\n        //força re-render do atributo de erro nos campos errados\r\n        setErrorRender(!errorRender)\r\n        if (houveErros) {\r\n            dispatch(requestError('Preencha todas as informações!'));\r\n        } else {\r\n            setRequest(true);\r\n\r\n        }\r\n    }\r\n    const getCoordinates = () => {\r\n        Geocode.fromAddress(values.cep).then(\r\n            response => {\r\n                const { lat, lng } = response.results[0].geometry.location;\r\n                setValues({ ...values, latitude: lat, longitude: lng });\r\n                setErrors({ ...errors, cep: false });\r\n            },\r\n            error => {\r\n                console.error(error);\r\n                setErrors({ ...errors, cep: true });\r\n                dispatch(requestError(\"CEP não encontrado\"));\r\n            }\r\n        );\r\n    }\r\n\r\n    return (\r\n\r\n        <form style={{ marginTop: '20px' }} noValidate autoComplete=\"off\">\r\n            <div  >\r\n\r\n                {values.latitude !== 0.0 && values.longitude !== 0.0 ?\r\n                    <Mapa zoom={16} center={{ lat: values.latitude, lng: values.longitude }} mapstyle={{ height: '20vh', width: '20vh', float: 'left' }} />\r\n                    :\r\n                    <Mapa zoom={16} center={{ lat: -23.5628302, lng: -46.6546177 }} mapstyle={{ height: '20vh', width: '20vh', float: 'left' }} />\r\n                }\r\n\r\n                <div className={classes.fields}>\r\n                    <TextField\r\n                        id=\"cep\"\r\n                        label=\"CEP\"\r\n                        style={{ margin: 8 }}\r\n                        placeholder=\"CEP\"\r\n                        onChange={handleChange('cep')}\r\n                        type=\"tel\"\r\n                        margin=\"normal\"\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        variant=\"outlined\"\r\n                        value={values.cep}\r\n                        error={errors.cep}\r\n                        onBlur={getCoordinates}\r\n                    />\r\n                    <TextField\r\n                        id=\"numero\"\r\n                        label=\"Número\"\r\n                        style={{ margin: 8 }}\r\n                        placeholder=\"Número\"\r\n                        onChange={handleChange('numero')}\r\n                        type=\"tel\"\r\n                        margin=\"normal\"\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        variant=\"outlined\"\r\n                        value={values.numero}\r\n                        error={errors.numero}\r\n\r\n                    />\r\n\r\n                    <TextField\r\n                        id=\"residentes\"\r\n                        label=\"Número de Residentes\"\r\n                        style={{ margin: 8 }}\r\n                        placeholder=\"Residentes\"\r\n                        onChange={handleChange('residentes')}\r\n                        type=\"number\"\r\n                        margin=\"normal\"\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        variant=\"outlined\"\r\n                        value={values.residentes}\r\n                        error={errors.residentes}\r\n\r\n                    />\r\n\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    className={classes.default}\r\n                    onClick={checkRequest}\r\n                >\r\n                    Enviar\r\n                        </Button>\r\n\r\n\r\n            </div>\r\n        </form>\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport { requestError } from '../store/ducks/requestError';\r\nimport LogoIcon from '../assets/logo-header.svg';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Mapa from './Mapa';\r\nimport CadastroResidencia from './CadastroResidencia'\r\nimport { getResidencias } from '../store/fetchActions';\r\nimport '../styles/Home/index.css';\r\nimport '../styles/global.css';\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`simple-tabpanel-${index}`}\r\n            aria-labelledby={`simple-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box p={3}>\r\n                    <Typography>{children}</Typography>\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction indice(index) {\r\n    return {\r\n        id: `simple-tab-${index}`,\r\n        'aria-controls': `simple-tabpanel-${index}`,\r\n    };\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        backgroundColor: theme.palette.background.paper,\r\n\r\n    },\r\n    tabs: {\r\n        borderRight: `1px solid ${theme.palette.divider}`,\r\n        marginRight: '5px',\r\n        height: '100%',\r\n        minWidth: 80,\r\n    },\r\n    tab: {\r\n        width: '100%',\r\n\r\n    },\r\n    tab_overflow: {\r\n        height: '100%',\r\n        overflowY: \"scroll\"\r\n    }\r\n}));\r\nexport default function GeneratorHome() {\r\n\r\n    const [value, setValue] = React.useState(0);\r\n    const dispatch = useDispatch();\r\n    const [openMessage, setOpenMessage] = useState(false);\r\n    const [openError, setOpenError] = useState(false);\r\n    const requestErrorMessage = useSelector(state => state.requestError);\r\n    const residencias = useSelector(state => state.residencias);\r\n    const [heatpos, setHeatpos] = useState([])\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n    };\r\n    const classes = useStyles();\r\n    useEffect(() => {\r\n        dispatch(getResidencias());\r\n    }, [])\r\n    useEffect(() => {\r\n        if (requestErrorMessage == 200) {\r\n\r\n            setOpenMessage(true);\r\n            return;\r\n        }\r\n        if (requestErrorMessage.length !== 0) {\r\n            setErrorMessage(requestErrorMessage);\r\n            setOpenError(true);\r\n        }\r\n\r\n    }, [requestErrorMessage]);\r\n    useEffect(() => {\r\n        var newheat = []\r\n        residencias.map((residencia) => {\r\n            newheat.push({\r\n                lat: residencia.latitude,\r\n                lng: residencia.longitude,\r\n                weight: residencia.residentes\r\n            });\r\n        });\r\n        setHeatpos(newheat);\r\n    }, [residencias]);\r\n    const handleCloseMessage = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n\r\n        setOpenMessage(false);\r\n        dispatch(requestError(\"\"));\r\n    };\r\n    const handleCloseError = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setOpenError(false);\r\n        setErrorMessage('');\r\n        dispatch(requestError(\"\"));\r\n    };\r\n    return (\r\n        <div style={{ height: '100%' }}>\r\n            <nav className=\"navbar\">\r\n                <div className=\"navcontainer\">\r\n                    <img src={LogoIcon} alt=\"logo-icon\" style={{ width: '170px', height: '39px' }} />\r\n                    <span className=\"content__tabs__text\">Desafio SunTech - Renan Paiva Oliveira Costa</span>\r\n                </div>\r\n\r\n            </nav>\r\n            <div className=\"containerMessages\">\r\n                <div className=\"content\">\r\n                    <div className=\"content__header\">\r\n                        <div className={classes.root}>\r\n                            <AppBar position=\"static\">\r\n                                <Tabs value={value} onChange={handleChange} aria-label=\"graph tabs\" centered>\r\n                                    <Tab label={<span className=\"content__tabs__text\">Mapa de Residências</span>} {...indice(0)} />\r\n                                    <Tab label={<span className=\"content__tabs__text\">Cadastrar Nova Residência</span>} {...indice(1)} />\r\n                                </Tabs>\r\n                            </AppBar>\r\n\r\n                            <TabPanel value={value} index={0} className={classes.tab_overflow}>\r\n                                <Mapa zoom={4} center={{ lat: -10.2415, lng: -52.3721 }} heatmap={heatpos} mapstyle={{ height: '70vh', width: '100%' }} />\r\n                            </TabPanel>\r\n                            <TabPanel value={value} index={1} className={classes.tab_overflow}>\r\n                                <CadastroResidencia />\r\n                            </TabPanel>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <Snackbar open={openMessage} autoHideDuration={3000} onClose={handleCloseMessage} anchorOrigin={{ vertical: 'top', horizontal: 'center' }}>\r\n                <Alert onClose={handleCloseMessage} severity=\"success\">\r\n                    Ação executada com sucesso!\r\n        </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={openError} autoHideDuration={3000} onClose={handleCloseError} anchorOrigin={{ vertical: 'top', horizontal: 'center' }}>\r\n                <Alert onClose={handleCloseError} severity=\"error\">\r\n                    {errorMessage}\r\n                </Alert>\r\n            </Snackbar>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { MuiThemeProvider, createMuiTheme, responsiveFontSizes } from '@material-ui/core';\r\n\r\nimport store from './store';\r\nimport Home from './components/Home';\r\n\r\nlet theme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: '#00598E' },\r\n    secondary: { main: '#74C04E' }\r\n  }\r\n});\r\ntheme = responsiveFontSizes(theme);\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store} >\r\n    <React.StrictMode>\r\n      <MuiThemeProvider theme={theme}>\r\n        <Home />\r\n      </ MuiThemeProvider>\r\n    </React.StrictMode>\r\n  </Provider>\r\n  , document.getElementById('root')\r\n);\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/logo-header.b46c32e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/pin.d02f6594.png\";"],"sourceRoot":""}